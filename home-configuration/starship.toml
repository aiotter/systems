# Get editor completions based on the config schema
"$schema" = 'https://starship.rs/config-schema.json'

format = """
[($nix_shell${custom.nix-shell}î‚°)](fg:#9A348E bg:#DA627D)\
[ ](bg:#DA627D)\
$directory\
[î‚°](fg:#DA627D bg:#FCA17D)\
$git_branch\
$git_commit\
$git_status\
$git_state\
[î‚°](fg:#FCA17D bg:#86BBD8)\
$deno\
$elixir\
$elm\
$golang\
$haskell\
$java\
$julia\
$nim\
$rust\
$zig\
[î‚°](fg:#86BBD8 bg:#06969A)\
$docker_context\
[î‚°](fg:#06969A bg:#33658A)\
[$status](bg:#33658A)\
$cmd_duration\
[î‚° ](fg:#33658A)\
$line_break\
\\$ \
"""

# Not supported on bash
right_format = """
[î‚²](bg:#9A348E)\
$cmd_duration\
"""

# Enable the blank line at the start of the prompt
add_newline = true

# You can also replace your username with a neat symbol like ï„  to save some space
[username]
show_always = true
style_user = "bg:#9A348E"
style_root = "bg:#9A348E"
format = '[$user ]($style)'

[directory]
style = "fg:black bg:#DA627D"
format = "[ $path ]($style)"
repo_root_style = "fg:black bg:#DA627D bold"
repo_root_format = "[$before_root_path]($style)[$repo_root]($repo_root_style)[$path]($style)[$read_only]($read_only_style)[ ]($style)"
truncation_length = 3
truncation_symbol = "â€¦/"

# Here is how you can shorten some long paths by text replacement
# similar to mapped_locations in Oh My Posh:
[directory.substitutions]
"Documents" = "ïœ˜ "
"Downloads" = "ï€™ "
"Music" = "ï€ "
"Pictures" = "ï€¾ "
# Keep in mind that the order matters. For example:
# "Important Documents" = " ïœ˜ï„ª "
# will not be replaced, because "Documents" was already substituted before.
# So either put "Important Documents" before "Documents" or use the substituted version:
# "Important ïœ˜ " = " ïœ˜ï„ª "

[c]
symbol = "î˜ž "
style = "fg:black bg:#86BBD8"
format = '[ $symbol($version) ]($style)'

[cmd_duration]
# style = "bg:#9A348E"
style = "bg:#33658A"
format = '[$duration ï‰’ ]($style)'

[deno]
symbol = "ðŸ¦• "
style = "fg:black bg:#86BBD8"
format = '[ $symbol($version) ]($style)'

[docker_context]
symbol = "ïŒˆ "
style = "bg:#06969A"
format = '[ $symbol$context ]($style) $path'

[elixir]
symbol = "î‰µ "
style = "fg:black bg:#86BBD8"
format = '[ $symbol($version) ]($style)'

[elm]
symbol = "î˜¬ "
style = "fg:black bg:#86BBD8"
format = '[ $symbol($version) ]($style)'

[git_branch]
symbol = "ï˜ "
style = "fg:black bg:#FCA17D"
format = '[ $symbol$branch]($style)'

[git_commit]
style = "fg:black bg:#FCA17D"
format = '[(@$hash)( $tag)]($style)'
tag_symbol = "ï€« "
only_detached = true
tag_disabled = false

[git_state]
style = "fg:black bg:#FCA17D"
format = '[\($state( $progress_current/$progress_total)\) ]($style)'

[git_status]
style = "fg:black bg:#FCA17D"
format = "[( $all_status$ahead_behind\b) ]($style)"
conflicted = 'ï— $count '
stashed = 'ï€œ $count '
deleted = 'âœ˜ $count '
renamed = 'Â» $count '
modified = 'ïª $count '
staged = 'ï˜ $count '
# untracked = 'ï™ $count '
untracked = 'ï€– $count '
ahead = 'â‡¡ $count '
behind = 'â‡£ $count '
diverged = 'â‡¡ $ahead_count â‡£ $behind_count '
# up_to_date = 'ï '

[golang]
symbol = "î˜§ "
style = "fg:black bg:#86BBD8"
format = '[ $symbol($version) ]($style)'

[haskell]
symbol = "î· "
style = "fg:black bg:#86BBD8"
format = '[ $symbol($version) ]($style)'

[java]
symbol = "î‰– "
style = "fg:black bg:#86BBD8"
format = '[ $symbol($version) ]($style)'

[julia]
symbol = "î˜¤ "
style = "fg:black bg:#86BBD8"
format = '[ $symbol($version) ]($style)'

[nodejs]
symbol = "îœ˜"
style = "fg:black bg:#86BBD8"
format = '[ $symbol($version) ]($style)'

[nim]
symbol = "ïš¤ "
style = "fg:black bg:#86BBD8"
format = '[ $symbol($version) ]($style)'

[nix_shell]
symbol = "â„ï¸"
style = "bg:#9A348E"
format = '[ $symbol DEVSHELL \($state\) ]($style)'

[custom.nix-shell]
command = '''
echo "${PATH//:/$'\n'}" | sed -En 's#^/nix/store/[a-z0-9]+-([^/]+).*$#\1#p'
'''
when = '''
[ -z "$IN_NIX_SHELL" -a -n "$(echo "${PATH//:/$'\n'}" | grep '/nix/store')" ]
'''
shell = ["bash", "-c"]
use_stdin = false
description = "Detect inside Nix Shell"
symbol = "â„ï¸"
style = "bg:#9A348E"
format = '[ $symbol SHELL( \($output\)) ]($style)'

[rust]
symbol = "îž¨"
style = "fg:black bg:#86BBD8"
format = '[ $symbol($version) ]($style)'

[status]
# styling bug: https://github.com/starship/starship/issues/4090
disabled = false
symbol = "âœ˜ $int"
success_symbol = "âœ“"
recognize_signal_code = true
style = "bg:#33658A"
format = ' $symbol $common_meaning(SIG$signal_name) '
pipestatus_separator = "\b|"
pipestatus = true
pipestatus_format = '[\[$pipestatus\]]($style) => $symbol $common_meaning(SIG$signal_name) '

[zig]
style = "fg:black bg:#86BBD8"
format = '[ $symbol($version) ]($style)'
